:root{
  --bg:#0b0d12; --panel:#131720; --panel2:#171c27;
  --line:#263248; --fg:#e7ebf3; --muted:#9aa6bf;
  --primary:#6ba8ff; --accent:#80ffd4; --danger:#ff6b7a;
}
*{box-sizing:border-box}
html,body{
  margin:0;padding:0;background:var(--bg);color:var(--fg);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto,
    "Hiragino Sans", "Noto Sans JP", sans-serif; line-height:1.65
}
.wrap{max-width:1024px;margin:0 auto;padding:18px 20px}
.header{display:flex;align-items:center;justify-content:space-between;gap:12px}
.brand{display:flex;gap:12px;align-items:center}
.logo{
  width:44px;height:44px;border-radius:12px;
  background:linear-gradient(135deg,var(--primary),#9ad1ff);
  color:#0b0d12;display:grid;place-items:center;font-weight:800
}
h1{margin:.1em 0 .2em;font-size:1.28rem}
.nav a{color:var(--muted);text-decoration:none;margin-left:12px}
.nav a:hover{color:var(--fg)}
h2{margin:1.1em 0 .55em;font-size:1.12rem;border-left:4px solid var(--primary);padding-left:.5rem}

label{display:block}
input,textarea,select,.btn{
  font:inherit;border:1px solid var(--line);border-radius:12px;
  background:var(--panel);color:var(--fg);padding:.6em .75em
}
textarea{width:100%;background:var(--panel)}
input[type="date"]{padding:.5em}
.help{align-self:end}

.btn{cursor:pointer;transition:.15s;background:var(--panel2)}
.btn:hover{transform:translateY(-1px);border-color:var(--primary)}
.btn.primary{background:linear-gradient(180deg,#2a3b57, #1d293d);border-color:#36507a}
.btn.accent{background:linear-gradient(180deg,#284a44,#1d332e);border-color:#2b705f}
.btn.ghost{background:transparent}
.btn.chip{border-radius:999px;padding:.45em .9em}

.row{display:flex;gap:.7rem;align-items:center;flex-wrap:wrap;margin:.7rem 0}
.grid{display:grid;gap:.7rem;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
.grid.narrow{grid-template-columns:repeat(auto-fit,minmax(120px,1fr))}
.muted{color:var(--muted)}
.small{font-size:.9rem}

.card{
  background:var(--panel);border:1px solid var(--line);
  border-radius:14px;padding:1rem; margin:.6rem 0
}
.cards{display:flex;gap:.7rem;flex-wrap:wrap}
.filelike{
  display:inline-flex;gap:.6rem;align-items:center;padding:.6rem .9rem;border:1px dashed var(--line);
  border-radius:12px;cursor:pointer;background:var(--panel)
}
.filelike:hover{border-color:var(--primary)}

#taskList .task{
  display:grid;grid-template-columns:1.2fr .8fr .6fr auto;
  gap:.5rem;align-items:center;margin:.5rem 0
}
#taskList .task input[type=number]{width:100%}
#taskList .task .del{background:var(--panel);border:1px solid var(--line);border-radius:10px;color:#fff}
#taskList .task .del:hover{border-color:var(--danger);color:#ff8793}
.chartRange.is-active{border-color:var(--primary);box-shadow:0 0 0 2px rgba(107,168,255,.15) inset}

/* ① 目標の設定：行構成を指定（デスクトップ） */
.profile-grid{
  display:grid;
  gap:.8rem;
  grid-template-columns: 1fr 1fr 1fr;
  grid-template-areas:
    "title title start"
    "current goal unit"
    "dir dir dir"
    "memo memo memo"
    "actions actions actions";
}
.profile-grid .pg.title  { grid-area:title; }
.profile-grid .pg.start  { grid-area:start; }
.profile-grid .pg.current{ grid-area:current; }
.profile-grid .pg.goal   { grid-area:goal; }
.profile-grid .pg.unit   { grid-area:unit; }
.profile-grid .pg.dir    { grid-area:dir; }
.profile-grid .pg.memo   { grid-area:memo; }
.profile-grid .pg.actions{ grid-area:actions; }

/* 幅が狭いときは縦積み */
@media (max-width: 720px){
  .profile-grid{
    grid-template-columns: 1fr;
    grid-template-areas:
      "title"
      "start"
      "current"
      "goal"
      "unit"
      "dir"
      "memo"
      "actions";
  }
}

/* ② グラフは幅100%、高さはHTML属性(180px)を使用。display:blockで余白を安定化 */
#dailyChart{width:100%;display:block;}

/* 画像プレビュー */
.cardPreview{
  margin-top:.6rem;border:1px dashed var(--line);
  border-radius:14px;padding:.6rem;overflow:auto;background:var(--panel)
}

code{background:#1a2230;padding:0 .35em;border-radius:4px}
footer.footer{opacity:.8;margin-bottom:2rem}
